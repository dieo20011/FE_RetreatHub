<header class="bg-white border-b border-gray-200">
  <div class="container mx-auto px-4 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center">
        <a routerLink="/" class="flex items-center">
          <svg viewBox="-5 0 35 35" fill="none" width="50" height="50" xmlns="http://www.w3.org/2000/svg" stroke="#ff3705">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M7.906 22.0072C7.906 22.4214 7.57021 22.7572 7.156 22.7572C6.74179 22.7572 6.406 22.4214 6.406 22.0072H7.906ZM7.156 12.1707L7.906 12.1586V12.1707H7.156ZM10.344 7.29116L10.3169 6.54165C10.3259 6.54132 10.335 6.54116 10.344 6.54116L10.344 7.29116ZM10.875 7.29116V6.54116C11.2892 6.54116 11.625 6.87695 11.625 7.29116H10.875ZM10.875 10.5447L11.6251 10.5447L11.6249 10.5567L10.875 10.5447ZM13 13.7968L13.0273 14.5463C13.0091 14.547 12.9909 14.547 12.9727 14.5463L13 13.7968ZM15.125 10.5432L14.375 10.5554V10.5432H15.125ZM15.125 7.29116H14.375C14.375 6.87695 14.7108 6.54116 15.125 6.54116V7.29116ZM15.656 7.29116V6.54116C15.6652 6.54116 15.6743 6.54133 15.6834 6.54166L15.656 7.29116ZM18.843 12.1707L18.0929 12.1707L18.0931 12.1586L18.843 12.1707ZM19.593 22.0072C19.593 22.4214 19.2572 22.7572 18.843 22.7572C18.4288 22.7572 18.093 22.4214 18.093 22.0072H19.593ZM3.94379 19.5732C3.66592 19.2661 3.68969 18.7918 3.99688 18.5139C4.30407 18.236 4.77835 18.2598 5.05621 18.567L3.94379 19.5732ZM11.775 27.1128L11.2216 27.619L11.2188 27.6159L11.775 27.1128ZM14.226 27.1128L14.7822 27.616L14.7794 27.619L14.226 27.1128ZM18.2878 21.5055C18.5657 21.1983 19.04 21.1746 19.3472 21.4525C19.6543 21.7304 19.6781 22.2047 19.4002 22.5118L18.2878 21.5055ZM19.4004 22.5116C19.1227 22.8189 18.6484 22.8428 18.3411 22.5651C18.0338 22.2873 18.0098 21.813 18.2876 21.5058L19.4004 22.5116ZM20.9436 18.5672C21.2213 18.2599 21.6956 18.236 22.0029 18.5137C22.3102 18.7915 22.3342 19.2657 22.0564 19.573L20.9436 18.5672ZM6.406 22.0072V12.1707H7.906V22.0072H6.406ZM6.4061 12.1829C6.38272 10.7357 6.76168 9.38129 7.42976 8.35872C8.09469 7.34096 9.09927 6.5857 10.3169 6.54165L10.3711 8.04067C9.78491 8.06188 9.17424 8.43108 8.68551 9.17914C8.19992 9.92239 7.88679 10.9752 7.9059 12.1586L6.4061 12.1829ZM10.344 6.54116H10.875V8.04116H10.344V6.54116ZM11.625 7.29116V10.5447H10.125V7.29116H11.625ZM11.6249 10.5567C11.613 11.3015 11.8108 11.9528 12.1041 12.4015C12.4004 12.8551 12.7418 13.0369 13.0273 13.0473L12.9727 14.5463C12.0561 14.5129 11.3209 13.9453 10.8484 13.222C10.3726 12.494 10.109 11.5412 10.1251 10.5327L11.6249 10.5567ZM12.9727 13.0473C13.2583 13.0369 13.5998 12.855 13.8962 12.4011C14.1895 11.9521 14.3872 11.3005 14.3751 10.5554L15.8749 10.5311C15.8913 11.5398 15.6278 12.493 15.1521 13.2214C14.6795 13.9449 13.9442 14.5129 13.0273 14.5463L12.9727 13.0473ZM14.375 10.5432V7.29116H15.875V10.5432H14.375ZM15.125 6.54116H15.656V8.04116H15.125V6.54116ZM15.6834 6.54166C16.9008 6.58624 17.905 7.34162 18.5697 8.35931C19.2375 9.38183 19.6163 10.736 19.5929 12.1829L18.0931 12.1586C18.1122 10.9754 17.7992 9.9228 17.3138 9.17956C16.8252 8.43149 16.2147 8.06212 15.6286 8.04066L15.6834 6.54166ZM19.593 12.1707V22.0072H18.093V12.1707H19.593ZM5.05621 18.567L12.3312 26.6097L11.2188 27.6159L3.94379 19.5732L5.05621 18.567ZM12.3284 26.6066C12.5739 26.8751 12.8135 26.9584 13.0005 26.9584C13.1875 26.9584 13.4271 26.8751 13.6726 26.6066L14.7794 27.619C14.2986 28.1447 13.6759 28.4584 13.0005 28.4584C12.3251 28.4584 11.7024 28.1447 11.2216 27.619L12.3284 26.6066ZM13.6698 26.6096L18.2878 21.5055L19.4002 22.5118L14.7822 27.616L13.6698 26.6096ZM18.2876 21.5058L20.9436 18.5672L22.0564 19.573L19.4004 22.5116L18.2876 21.5058Z"
                fill="#ff3705"></path>
            </g>
          </svg>
          <span class="ml-2 text-xl font-bold text-[#FF5A5F]">DiEO RetreatHub</span>
        </a>
      </div>

      <!-- Search bar -->
      <div class="hidden md:flex items-center">
        <div
          class="flex items-center border border-gray-300 rounded-full p-2 shadow-sm hover:shadow-md transition-shadow duration-200">
          <span class="px-3 font-medium">Địa điểm</span>
          <span class="h-4 border-r border-gray-300"></span>
          <span class="px-3 font-medium">Nhận phòng</span>
          <span class="h-4 border-r border-gray-300"></span>
          <span class="px-3 font-medium">Trả phòng</span>
          <span class="h-4 border-r border-gray-300"></span>
          <span class="px-3 text-gray-500">Khách</span>
          <button class="bg-[#FF5A5F] p-2 rounded-full text-white ml-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
              stroke="currentColor" class="w-4 h-4">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Right menu -->
      <div class="flex items-center">
        <a href="#"
          class="hidden sm:block mr-4 text-sm font-medium hover:bg-gray-100 px-4 py-2 rounded-full transition-colors">Cho
          thuê chỗ ở qua Airbnb</a>
        <a href="#" class="mr-4 p-2 hover:bg-gray-100 rounded-full transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" />
          </svg>
        </a>

        <!-- Not logged in state -->
        <div *ngIf="!isLoggedIn">
          <button (click)="showLoginModal()"
            class="flex items-center gap-1 border border-gray-300 rounded-full p-1 shadow-sm hover:shadow-md transition-shadow duration-200">
            <div class="p-1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation"
                focusable="false"
                style="display: block; fill: none; height: 16px; width: 16px; stroke: currentcolor; stroke-width: 3; overflow: visible;">
                <g fill="none">
                  <path d="M2 16h28M2 24h28M2 8h28"></path>
                </g>
              </svg>
            </div>
            <div class="bg-gray-500 rounded-full overflow-hidden p-1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation"
                focusable="false" style="display: block; height: 24px; width: 24px; fill: white;">
                <path
                  d="M16 .7C7.56.7.7 7.56.7 16S7.56 31.3 16 31.3 31.3 24.44 31.3 16 24.44.7 16 .7zm0 28c-4.02 0-7.6-1.88-9.93-4.81a12.43 12.43 0 0 1 6.45-4.4A6.5 6.5 0 0 1 9.5 14a6.5 6.5 0 0 1 13 0 6.51 6.51 0 0 1-3.02 5.5 12.42 12.42 0 0 1 6.45 4.4A12.67 12.67 0 0 1 16 28.7z">
                </path>
              </svg>
            </div>
          </button>
        </div>

        <!-- Logged in state -->
        <div *ngIf="isLoggedIn" nz-dropdown [nzDropdownMenu]="userMenu">
          <button
            class="flex items-center gap-1 border border-gray-300 rounded-full p-1 shadow-sm hover:shadow-md transition-shadow duration-200">
            <div class="p-1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation"
                focusable="false"
                style="display: block; fill: none; height: 16px; width: 16px; stroke: currentcolor; stroke-width: 3; overflow: visible;">
                <g fill="none">
                  <path d="M2 16h28M2 24h28M2 8h28"></path>
                </g>
              </svg>
            </div>
            <div class="bg-gray-500 rounded-full overflow-hidden p-1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation"
                focusable="false" style="display: block; height: 24px; width: 24px; fill: white;">
                <path
                  d="M16 .7C7.56.7.7 7.56.7 16S7.56 31.3 16 31.3 31.3 24.44 31.3 16 24.44.7 16 .7zm0 28c-4.02 0-7.6-1.88-9.93-4.81a12.43 12.43 0 0 1 6.45-4.4A6.5 6.5 0 0 1 9.5 14a6.5 6.5 0 0 1 13 0 6.51 6.51 0 0 1-3.02 5.5 12.42 12.42 0 0 1 6.45 4.4A12.67 12.67 0 0 1 16 28.7z">
                </path>
              </svg>
            </div>
          </button>
          <nz-dropdown-menu #userMenu="nzDropdownMenu">
            <ul nz-menu>
              <li nz-menu-item>Tin nhắn</li>
              <li nz-menu-item>Chuyến đi</li>
              <li nz-menu-item>Danh sách yêu thích</li>
              <li nz-menu-item (click)="logout()">Đăng xuất</li>
            </ul>
          </nz-dropdown-menu>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Login Modal -->
<nz-modal [(nzVisible)]="isLoginModalVisible" [nzTitle]="modalTitle" [nzFooter]="null" (nzOnCancel)="handleCancel()"
  [nzWidth]="520">
  <ng-template #modalTitle>
    <div class="text-xl font-semibold text-center">Đăng nhập hoặc đăng ký</div>
  </ng-template>
  <div *nzModalContent class="p-4">
    <h2 class="text-lg font-bold mb-6">Chào mừng bạn đến với DiEO BnB</h2>

    <form [formGroup]="loginForm" (ngSubmit)="submitForm()" class="space-y-4">
      <div class="flex items-center">
        <nz-select formControlName="countryCode" class="w-24 mr-2">
          <nz-option nzValue="+84" nzLabel="Việt Nam (+84)"></nz-option>
          <nz-option nzValue="+1" nzLabel="United States (+1)"></nz-option>
          <nz-option nzValue="+44" nzLabel="United Kingdom (+44)"></nz-option>
          <!-- More country codes can be added here -->
        </nz-select>

        <nz-form-item class="w-full">
          <nz-form-control nzErrorTip="Vui lòng nhập số điện thoại hợp lệ">
            <nz-input-group>
              <input type="tel" nz-input formControlName="phoneNumber" placeholder="Số điện thoại" />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div>

      <div class="text-xs text-gray-500">
        Chúng tôi sẽ gọi điện hoặc nhắn tin cho bạn để xác nhận số điện thoại. Có áp dụng phí dữ liệu và phí tin nhắn
        tiêu chuẩn.
      </div>

      <button nz-button nzType="primary" [nzLoading]="isLoading"
        class="w-full h-12 bg-[#FF5A5F] hover:bg-[#FF3A40] text-white rounded-lg">
        Tiếp tục
      </button>

      <nz-divider nzText="hoặc"></nz-divider>

      <div class="space-y-3">
        <button nz-button class="w-full flex items-center justify-center h-12 border rounded-lg">
          <span class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
              <path
                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                fill="#4285F4" />
              <path
                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                fill="#34A853" />
              <path
                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                fill="#FBBC05" />
              <path
                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                fill="#EA4335" />
              <path d="M1 1h22v22H1z" fill="none" />
            </svg>
            <span class="ml-2">Tiếp tục với Google</span>
          </span>
        </button>

        <button nz-button class="w-full flex items-center justify-center h-12 border rounded-lg">
          <span class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M12.0003 2C6.4773 2 2.0003 6.477 2.0003 12C2.0003 17.523 6.4773 22 12.0003 22C17.5233 22 22.0003 17.523 22.0003 12C22.0003 6.477 17.5233 2 12.0003 2ZM12.9913 18.811V19.5L12.0003 19.5C11.4483 19.5 11.0003 19.052 11.0003 18.5V18.497L10.9913 18.5V14.5H8.0003V13C8.0003 11.895 8.8953 11 10.0003 11H14.0003C15.1053 11 16.0003 11.895 16.0003 13V14.5H13.0003V18.497C13.0003 18.602 12.9963 18.707 12.9913 18.811ZM12.0003 10C10.8963 10 10.0003 9.104 10.0003 8C10.0003 6.896 10.8963 6 12.0003 6C13.1043 6 14.0003 6.896 14.0003 8C14.0003 9.104 13.1043 10 12.0003 10Z"
                fill="#000" />
            </svg>
            <span class="ml-2">Tiếp tục với Apple</span>
          </span>
        </button>

        <button nz-button class="w-full flex items-center justify-center h-12 border rounded-lg">
          <span class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M20.0003 4H4.0003C2.9003 4 2.0103 4.9 2.0103 6L2.0003 18C2.0003 19.1 2.9003 20 4.0003 20H20.0003C21.1003 20 22.0003 19.1 22.0003 18V6C22.0003 4.9 21.1003 4 20.0003 4ZM20.0003 8L12.0003 13L4.0003 8V6L12.0003 11L20.0003 6V8Z"
                fill="#000" />
            </svg>
            <span class="ml-2">Tiếp tục bằng email</span>
          </span>
        </button>

        <button nz-button class="w-full flex items-center justify-center h-12 border rounded-lg">
          <span class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M20.0003 4H4.0003C2.9003 4 2.0103 4.9 2.0103 6L2.0003 18C2.0003 19.1 2.9003 20 4.0003 20H20.0003C21.1003 20 22.0003 19.1 22.0003 18V6C22.0003 4.9 21.1003 4 20.0003 4ZM20.0003 8L12.0003 13L4.0003 8V6L12.0003 11L20.0003 6V8Z"
                fill="#1877F2" />
            </svg>
            <span class="ml-2">Tiếp tục với Facebook</span>
          </span>
        </button>
      </div>
    </form>
  </div>
</nz-modal>